{"version":3,"sources":["webpack:///./src/views/White.vue?a6dd","webpack:///./src/views/White.vue?1f27","webpack:///./src/api/white.js","webpack:///src/views/White.vue","webpack:///./src/views/White.vue?b289","webpack:///./src/views/White.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_White_vue_vue_type_style_index_0_id_a7ad51dc_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_White_vue_vue_type_style_index_0_id_a7ad51dc_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","filterable","placeholder","on","on-change","$event","getData","model","value","filters","callback","$$v","$set","expression","_l","item","key","id","code","_s","deviceId","type","click","add","columns","data","loading","tableLoading","scopedSlots","_u","fn","ref","row","_delete","total","show-sizer","show-total","show-elevator","current","page","page-size","pageSize","changePage","on-page-size-change","changePageSize","title","on-visible-change","closeModal","whiteModal","form","rules","ruleValidate","label-width","label","prop","slot","save","staticRenderFns","getList","params","axios","get","addWhite","post","deleteItem","delete","Whitevue_type_script_lang_js_","align","bundleId","required","message","trigger","mounted","methods","_this","isFirst","arguments","length","undefined","size","then","_ref","list","catch","val","_this2","$Modal","confirm","content","onOk","$Message","success","_this3","$refs","validate","valid","isShow","resetFields","computed","Object","objectSpread","vuex_esm","views_Whitevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-46a4c348.3dbb7a7d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./White.vue?vue&type=style&index=0&id=a7ad51dc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./White.vue?vue&type=style&index=0&id=a7ad51dc&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"white-list\"},[_c('div',{staticClass:\"section-wrapper\"},[_c('div',{staticClass:\"table-controller\"},[_c('div',{staticClass:\"controller-list\"},[_c('div',{staticClass:\"controller-item\"},[_c('span',{staticClass:\"controller-label\"},[_vm._v(\"项目ID：\")]),_c('Select',{staticClass:\"controller-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择项目ID\"},on:{\"on-change\":function($event){return _vm.getData(true)}},model:{value:(_vm.filters.bundleId),callback:function ($$v) {_vm.$set(_vm.filters, \"bundleId\", $$v)},expression:\"filters.bundleId\"}},[_c('Option',{attrs:{\"value\":\"all\"}},[_vm._v(\"全部\")]),_vm._l((_vm.projectList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.code}},[_vm._v(_vm._s(item.code))])})],2)],1),_c('div',{staticClass:\"controller-item\"},[_c('span',{staticClass:\"controller-label\"},[_vm._v(\"设备ID：\")]),_c('Select',{staticClass:\"controller-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择设备ID\"},on:{\"on-change\":function($event){return _vm.getData(true)}},model:{value:(_vm.filters.deviceId),callback:function ($$v) {_vm.$set(_vm.filters, \"deviceId\", $$v)},expression:\"filters.deviceId\"}},[_c('Option',{attrs:{\"value\":\"all\"}},[_vm._v(\"全部\")]),_vm._l((_vm.deviceList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.deviceId}},[_vm._v(_vm._s(item.deviceId))])})],2)],1)]),_c('div',{staticClass:\"new-add\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"新增\")])],1)]),_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.data,\"loading\":_vm.tableLoading},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm._delete(row)}}},[_vm._v(\"删除\")])]}}])}),_c('div',{staticClass:\"page\"},[_c('Page',{attrs:{\"total\":_vm.total,\"show-sizer\":\"\",\"show-total\":\"\",\"show-elevator\":\"\",\"current\":_vm.page,\"page-size\":_vm.pageSize},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1),_c('Modal',{attrs:{\"title\":_vm.title},on:{\"on-visible-change\":_vm.closeModal},model:{value:(_vm.whiteModal),callback:function ($$v) {_vm.whiteModal=$$v},expression:\"whiteModal\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.ruleValidate,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"项目ID\",\"prop\":\"bundleId\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择项目ID\"},model:{value:(_vm.form.bundleId),callback:function ($$v) {_vm.$set(_vm.form, \"bundleId\", $$v)},expression:\"form.bundleId\"}},_vm._l((_vm.projectList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.code}},[_vm._v(_vm._s(item.code))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"设备ID\",\"prop\":\"deviceId\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择设备ID\"},model:{value:(_vm.form.deviceId),callback:function ($$v) {_vm.$set(_vm.form, \"deviceId\", $$v)},expression:\"form.deviceId\"}},_vm._l((_vm.deviceList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.deviceId}},[_vm._v(_vm._s(item.deviceId))])}),1)],1)],1),_c('template',{slot:\"footer\"},[_c('Button',{on:{\"click\":function($event){_vm.whiteModal = false}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"success\",\"loading\":_vm.loading},on:{\"click\":_vm.save}},[_vm._v(\"确定\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from './axios';\r\n\r\nexport function getList(params) {\r\n  return axios.get('/white-list/list', {\r\n    params,\r\n  });\r\n}\r\n\r\nexport function addWhite(params) {\r\n  return axios.post('/white-list', params);\r\n}\r\n\r\nexport function deleteItem(params) {\r\n  return axios.delete('/white-list', {\r\n    params,\r\n  });\r\n}\r\n","<template>\r\n  <div class=\"white-list\">\r\n    <div class=\"section-wrapper\">\r\n      <div class=\"table-controller\">\r\n        <div class=\"controller-list\">\r\n          <div class=\"controller-item\">\r\n            <span class=\"controller-label\">项目ID：</span>\r\n            <Select\r\n              class=\"controller-input\"\r\n              v-model=\"filters.bundleId\"\r\n              filterable\r\n              placeholder=\"请选择项目ID\"\r\n              @on-change=\"getData(true)\"\r\n            >\r\n              <Option value=\"all\">全部</Option>\r\n              <Option v-for=\"item in projectList\" :value=\"item.code\" :key=\"item.id\">{{\r\n                item.code\r\n              }}</Option>\r\n            </Select>\r\n          </div>\r\n\r\n          <div class=\"controller-item\">\r\n            <span class=\"controller-label\">设备ID：</span>\r\n            <Select\r\n              class=\"controller-input\"\r\n              v-model=\"filters.deviceId\"\r\n              filterable\r\n              placeholder=\"请选择设备ID\"\r\n              @on-change=\"getData(true)\"\r\n            >\r\n              <Option value=\"all\">全部</Option>\r\n              <Option v-for=\"item in deviceList\" :value=\"item.deviceId\" :key=\"item.id\">{{\r\n                item.deviceId\r\n              }}</Option>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div class=\"new-add\">\r\n          <Button type=\"primary\" @click=\"add()\">新增</Button>\r\n        </div>\r\n      </div>\r\n      <Table :columns=\"columns\" :data=\"data\" :loading=\"tableLoading\">\r\n        <template slot-scope=\"{ row }\" slot=\"action\">\r\n          <!-- <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"edit(row)\">View</Button> -->\r\n          <Button type=\"error\"  @click=\"_delete(row)\">删除</Button>\r\n        </template>\r\n      </Table>\r\n      <div class=\"page\">\r\n        <Page\r\n          :total=\"total\"\r\n          show-sizer\r\n          show-total\r\n          show-elevator\r\n          @on-change=\"changePage\"\r\n          @on-page-size-change=\"changePageSize\"\r\n          :current=\"page\"\r\n          :page-size=\"pageSize\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <Modal @on-visible-change=\"closeModal\" :title=\"title\" v-model=\"whiteModal\">\r\n      <Form ref=\"form\" :model=\"form\" :rules=\"ruleValidate\" :label-width=\"80\">\r\n        <FormItem label=\"项目ID\" prop=\"bundleId\">\r\n          <Select v-model=\"form.bundleId\" filterable placeholder=\"请选择项目ID\">\r\n            <Option v-for=\"item in projectList\" :value=\"item.code\" :key=\"item.id\">{{\r\n              item.code\r\n            }}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"设备ID\" prop=\"deviceId\">\r\n          <Select v-model=\"form.deviceId\" filterable placeholder=\"请选择设备ID\">\r\n            <Option v-for=\"item in deviceList\" :value=\"item.deviceId\" :key=\"item.id\">{{\r\n              item.deviceId\r\n            }}</Option>\r\n          </Select>\r\n        </FormItem>\r\n      </Form>\r\n      <template slot=\"footer\">\r\n        <Button @click=\"whiteModal = false\">取消</Button>\r\n        <Button type=\"success\" @click=\"save\" :loading=\"loading\">确定</Button>\r\n      </template>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport { getList, addWhite, deleteItem } from '@/api/white';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      columns: [\r\n        {\r\n          title: '项目ID',\r\n          key: 'bundleId',\r\n          align: 'center',\r\n        },\r\n        {\r\n          title: '设备ID',\r\n          key: 'deviceId',\r\n          align: 'center',\r\n        },\r\n        {\r\n          title: '操作',\r\n          slot: 'action',\r\n          align: 'center',\r\n        },\r\n      ],\r\n      filters: {\r\n        bundleId: 'all',\r\n        deviceId: 'all',\r\n      },\r\n      data: [],\r\n      page: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      whiteModal: false,\r\n      title: '新增白名单',\r\n      loading: false,\r\n      form: {\r\n        bundleId: '',\r\n        deviceId: '',\r\n      },\r\n      ruleValidate: {\r\n        bundleId: [{ required: true, message: '请选择项目', trigger: 'blur' }],\r\n        deviceId: [{ required: true, message: '请选择项目设备', trigger: 'blur' }],\r\n      },\r\n      tableLoading: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData(isFirst = false) {\r\n      this.tableLoading = true;\r\n      if (isFirst) {\r\n        this.page = 1;\r\n      }\r\n      getList({\r\n        page: this.page,\r\n        size: this.pageSize,\r\n        bundleId: this.filters.bundleId === 'all' ? '' : this.filters.bundleId,\r\n        deviceId: this.filters.deviceId === 'all' ? '' : this.filters.deviceId,\r\n      }).then(({ list, total }) => {\r\n        this.data = list;\r\n        this.total = total;\r\n        this.tableLoading = false;\r\n      }).catch(() => {\r\n        this.tableLoading = false;\r\n      });\r\n    },\r\n    changePage(val) {\r\n      this.page = val;\r\n      this.getData();\r\n    },\r\n    changePageSize(val) {\r\n      this.pageSize = val;\r\n      this.getData();\r\n    },\r\n    _delete(row) {\r\n      this.$Modal.confirm({\r\n        title: '删除白名单',\r\n        content: '<p>确认删除此白名单？</p>',\r\n        onOk: () => {\r\n          deleteItem({\r\n            deviceId: row.deviceId,\r\n            bundleId: row.bundleId,\r\n          }).then(() => {\r\n            this.$Message.success('删除成功');\r\n            this.getData();\r\n          });\r\n        },\r\n      });\r\n    },\r\n    save() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          this.loading = true;\r\n          addWhite(this.form).then(() => {\r\n            this.$Message.success('新增成功');\r\n            this.page = 1;\r\n            this.getData();\r\n            this.loading = false;\r\n            this.whiteModal = false;\r\n          }).catch(() => {\r\n            this.loading = false;\r\n          });\r\n        }\r\n      });\r\n    },\r\n    closeModal(isShow) {\r\n      if (isShow) {\r\n        this.$refs.form.resetFields();\r\n      }\r\n    },\r\n    add() {\r\n      this.whiteModal = true;\r\n      this.title = '新增白名单';\r\n    },\r\n    // edit(row) {\r\n    //   this.whiteModal = true;\r\n    //   this.title = '编辑白名单';\r\n    //   this.form = { ...row };\r\n    // },\r\n  },\r\n  computed: {\r\n    ...mapState(['projectList', 'deviceList']),\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.white-list {\r\n  .table-controller{\r\n    margin-bottom: 10px;\r\n  }\r\n  .new-add {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    // margin-bottom: 15px;\r\n  }\r\n  .page {\r\n    display: flex;\r\n    margin-top: 10px;\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./White.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./White.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./White.vue?vue&type=template&id=a7ad51dc&scoped=true&\"\nimport script from \"./White.vue?vue&type=script&lang=js&\"\nexport * from \"./White.vue?vue&type=script&lang=js&\"\nimport style0 from \"./White.vue?vue&type=style&index=0&id=a7ad51dc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7ad51dc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}