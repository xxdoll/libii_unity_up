(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2df01e69"],{1654:function(t,e,r){"use strict";var n=r("71c1")(!0);r("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},"1af6":function(t,e,r){var n=r("63b6");n(n.S,"Array",{isArray:r("9003")})},"20fd":function(t,e,r){"use strict";var n=r("d9f6"),i=r("aebd");t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},"260b":function(t,e,r){},"30f1":function(t,e,r){"use strict";var n=r("b8e3"),i=r("63b6"),a=r("9138"),o=r("35e8"),s=r("481b"),l=r("8f60"),c=r("45f2"),u=r("53e2"),f=r("5168")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",h="keys",m="values",v=function(){return this};t.exports=function(t,e,r,b,g,y,S){l(r,e,b);var k,_,O,V=function(t){if(!p&&t in L)return L[t];switch(t){case h:return function(){return new r(this,t)};case m:return function(){return new r(this,t)}}return function(){return new r(this,t)}},x=e+" Iterator",A=g==m,I=!1,L=t.prototype,w=L[f]||L[d]||g&&L[g],C=w||V(g),j=g?A?V("entries"):C:void 0,M="Array"==e&&L.entries||w;if(M&&(O=u(M.call(new t)),O!==Object.prototype&&O.next&&(c(O,x,!0),n||"function"==typeof O[f]||o(O,f,v))),A&&w&&w.name!==m&&(I=!0,C=function(){return w.call(this)}),n&&!S||!p&&!I&&L[f]||o(L,f,C),s[e]=C,s[x]=v,g)if(k={values:A?C:V(m),keys:y?C:V(h),entries:j},S)for(_ in k)_ in L||a(L,_,k[_]);else i(i.P+i.F*(p||I),e,k);return k}},3702:function(t,e,r){var n=r("481b"),i=r("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},"40c3":function(t,e,r){var n=r("6b4c"),i=r("5168")("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(r){}};t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=o(e=Object(t),i))?r:a?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},"481b":function(t,e){t.exports={}},"4ee1":function(t,e,r){var n=r("5168")("iterator"),i=!1;try{var a=[7][n]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a=[7],s=a[n]();s.next=function(){return{done:r=!0}},a[n]=function(){return s},t(a)}catch(o){}return r}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},"53e2":function(t,e,r){var n=r("07e3"),i=r("241e"),a=r("5559")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"549b":function(t,e,r){"use strict";var n=r("d864"),i=r("63b6"),a=r("241e"),o=r("b0dc"),s=r("3702"),l=r("b447"),c=r("20fd"),u=r("7cd6");i(i.S+i.F*!r("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,f,p=a(t),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,b=0,g=u(p);if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(e=l(p.length),r=new d(e);e>b;b++)c(r,b,v?m(p[b],b):p[b]);else for(f=g.call(p),r=new d;!(i=f.next()).done;b++)c(r,b,v?o(f,m,[i.value,b],!0):i.value);return r.length=b,r}})},"54a1":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("95d5")},"6c1c":function(t,e,r){r("c367");for(var n=r("e53d"),i=r("35e8"),a=r("481b"),o=r("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],f=u&&u.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},"71c1":function(t,e,r){var n=r("3a38"),i=r("25eb");t.exports=function(t){return function(e,r){var a,o,s=String(i(e)),l=n(r),c=s.length;return l<0||l>=c?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}}},"774e":function(t,e,r){t.exports=r("d2d5")},"7cd6":function(t,e,r){var n=r("40c3"),i=r("5168")("iterator"),a=r("481b");t.exports=r("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[n(t)]}},8436:function(t,e){t.exports=function(){}},"8f60":function(t,e,r){"use strict";var n=r("a159"),i=r("aebd"),a=r("45f2"),o={};r("35e8")(o,r("5168")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(o,{next:i(1,r)}),a(t,e+" Iterator")}},"95d5":function(t,e,r){var n=r("40c3"),i=r("5168")("iterator"),a=r("481b");t.exports=r("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(n(e))}},a745:function(t,e,r){t.exports=r("f410")},b0dc:function(t,e,r){var n=r("e4ae");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(o){var a=t["return"];throw void 0!==a&&n(a.call(t)),o}}},c367:function(t,e,r){"use strict";var n=r("8436"),i=r("50ed"),a=r("481b"),o=r("36c3");t.exports=r("30f1")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},c8bb:function(t,e,r){t.exports=r("54a1")},d1be:function(t,e,r){"use strict";var n=r("260b"),i=r.n(n);i.a},d2d5:function(t,e,r){r("1654"),r("549b"),t.exports=r("584a").Array.from},f410:function(t,e,r){r("1af6"),t.exports=r("584a").Array.isArray},f6e6:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"white-list"},[r("div",{staticClass:"section-wrapper"},[r("div",{staticClass:"table-controller"},[r("div",{staticClass:"controller-list"},[r("div",{staticClass:"controller-item"},[r("span",{staticClass:"controller-label"},[t._v("项目ID：")]),r("Select",{staticClass:"controller-input",attrs:{filterable:"",placeholder:"请选择项目ID"},model:{value:t.filters.bundleId,callback:function(e){t.$set(t.filters,"bundleId",e)},expression:"filters.bundleId"}},[r("Option",{attrs:{value:"all"}},[t._v("全部")]),t._l(t.gameList,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1),r("div",{staticClass:"controller-item"},[r("span",{staticClass:"controller-label"},[t._v("平台：")]),r("Select",{staticClass:"controller-input",attrs:{filterable:"",placeholder:"请选择平台"},model:{value:t.filters.platform,callback:function(e){t.$set(t.filters,"platform",e)},expression:"filters.platform"}},[r("Option",{attrs:{value:"all"}},[t._v("全部")]),t._l(t.platformList,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1),r("div",{staticClass:"controller-item"},[r("span",{staticClass:"controller-label"},[t._v("渠道：")]),r("Select",{staticClass:"controller-input",attrs:{filterable:"",placeholder:"请选择渠道"},model:{value:t.filters.channel,callback:function(e){t.$set(t.filters,"channel",e)},expression:"filters.channel"}},[r("Option",{attrs:{value:"all"}},[t._v("全部")]),t._l(t.channelList,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1),r("div",{staticClass:"controller-item"},[r("span",{staticClass:"controller-label"},[t._v("自定义ID：")]),r("Select",{staticClass:"controller-input",attrs:{filterable:"",placeholder:"请选择自定义ID"},model:{value:t.filters.customId,callback:function(e){t.$set(t.filters,"customId",e)},expression:"filters.customId"}},[r("Option",{attrs:{value:"all"}},[t._v("全部")]),t._l(t.customList,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1),r("div",{staticClass:"controller-item"},[r("span",{staticClass:"controller-label"},[t._v("应用版本号：")]),r("Select",{staticClass:"controller-input",attrs:{filterable:"",placeholder:"请选择应用版本号"},model:{value:t.filters.appVersionStr,callback:function(e){t.$set(t.filters,"appVersionStr",e)},expression:"filters.appVersionStr"}},[r("Option",{attrs:{value:"all"}},[t._v("全部")]),t._l(t.appList,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})],2)],1)]),r("div",{staticClass:"new-add"},[r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.getData(!0)}}},[t._v("查询")])],1)]),r("Table",{attrs:{columns:t.columns,data:t.data,loading:t.tableLoading},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row;return[r("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.edit(n)}}},[t._v("编辑")])]}}])}),r("div",{staticClass:"page"},[r("Page",{attrs:{total:t.total,"show-sizer":"","show-total":"","show-elevator":"",current:t.page,"page-size":t.pageSize},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1),r("Modal",{attrs:{transfer:!1,title:"编辑热更行资源"},on:{"on-visible-change":t.closeModal},model:{value:t.hotModal,callback:function(e){t.hotModal=e},expression:"hotModal"}},[r("Form",{ref:"form",attrs:{model:t.form,rules:t.ruleValidate,"label-width":140}},[r("FormItem",{attrs:{label:"资源状态",prop:"status"}},[r("Select",{attrs:{placeholder:"请选择资源状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[r("Option",{attrs:{value:-1}},[t._v("过时")]),r("Option",{attrs:{value:0}},[t._v("审核")]),r("Option",{attrs:{value:1}},[t._v("发布")])],1)],1),r("FormItem",{attrs:{label:"最低适配应用版本号",prop:"minAppVersionStr"}},[r("Select",{attrs:{disabled:t.disabledCheck,placeholder:"请选择资源状态"},model:{value:t.form.minAppVersionStr,callback:function(e){t.$set(t.form,"minAppVersionStr",e)},expression:"form.minAppVersionStr"}},t._l(t.showAppVersion,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1),r("FormItem",{attrs:{label:"最高适配应用版本号",prop:"maxAppVersionStr"}},[r("Select",{attrs:{disabled:t.disabledCheck,placeholder:"请选择资源状态"},model:{value:t.form.maxAppVersionStr,callback:function(e){t.$set(t.form,"maxAppVersionStr",e)},expression:"form.maxAppVersionStr"}},t._l(t.showAppVersion,function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1)],1),r("FormItem",{attrs:{label:"请求超时时间（秒）",prop:"timeout"}},[r("InputNumber",{attrs:{min:0,disabled:t.disabledCheck},model:{value:t.form.timeout,callback:function(e){t.$set(t.form,"timeout",e)},expression:"form.timeout"}})],1)],1),r("template",{slot:"footer"},[r("Button",{on:{click:function(e){t.hotModal=!1}}},[t._v("取消")]),r("Button",{attrs:{type:"success",loading:t.loading},on:{click:t.save}},[t._v("确定")])],1)],2)],1)},i=[],a=(r("ac6a"),r("456d"),r("a745")),o=r.n(a);function s(t){if(o()(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var l=r("774e"),c=r.n(l),u=r("c8bb"),f=r.n(u);function p(t){if(f()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){return s(t)||p(t)||d()}var m=r("cebc"),v=r("2f62"),b=r("71ff"),g={"-1":"过时",0:"审核",1:"发布"},y={data:function(){return{columns:[{title:"项目ID",key:"bundleId",align:"center"},{title:"平台",key:"platform",align:"center"},{title:"渠道",key:"channel",align:"center"},{title:"自定义ID",key:"customId",align:"center"},{title:"Unity版本号",key:"unityVersion",align:"center"},{title:"应用版本号",key:"appVersionStr",align:"center"},{title:"最低适配应用版本号",key:"minAppVersionStr",align:"center"},{title:"最高适配应用版本号",key:"maxAppVersionStr",align:"center"},{title:"地区",key:"area",align:"center"},{title:"资源状态",key:"status",align:"center",render:function(t,e){return t("span",g[e.row.status])}},{title:"资源版本号",key:"resourceVersion",align:"center"},{title:"请求超时时间（秒）",key:"timeout",align:"center"},{title:"操作",width:200,slot:"action",align:"center"}],filters:{bundleId:"all",platform:"all",channel:"all",customId:"all",appVersionStr:"all"},data:[],page:1,pageSize:10,total:0,hotModal:!1,loading:!1,form:{area:"",maxAppVersionStr:"",minAppVersionStr:"",status:0,timeout:30},ruleValidate:{area:[{required:!0,message:"请输入地区",trigger:"blur"}],timeout:[{required:!0,message:"请输入请求超时时间"}]},tableLoading:!1,appVersion:[]}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.page=1),this.tableLoading=!0,Object(b["e"])({page:this.page,size:this.pageSize,bundleId:"all"===this.filters.bundleId?"":this.filters.bundleId,platform:"all"===this.filters.platform?"":this.filters.platform,channel:"all"===this.filters.channel?"":this.filters.channel,customId:"all"===this.filters.customId?"":this.filters.customId,appVersionStr:"all"===this.filters.appVersionStr?"":this.filters.appVersionStr}).then(function(e){var r=e.list,n=e.total;t.data=r,t.total=n,t.tableLoading=!1}).catch(function(){t.tableLoading=!1})},changePage:function(t){this.page=t,this.getData()},changePageSize:function(t){this.pageSize=t,this.getData()},save:function(){var t=this;this.$refs.form.validate(function(e){if(e){var r=t.appVersionMap[t.form.maxAppVersionStr],n=t.appVersionMap[t.form.minAppVersionStr];if(r<n)return void t.$Message.error({content:"最高适配应用版本号不能低于最低适配应用版本号",duration:3});t.loading=!0,Object(b["b"])(Object(m["a"])({},t.form,{maxAppVersionNum:r,minAppVersionNum:n})).then(function(){t.loading=!1,t.getData(),t.hotModal=!1,t.$Message.success("编辑成功")}).catch(function(){t.loading=!1})}})},closeModal:function(t){var e=this;t||setTimeout(function(){e.form={area:"",maxAppVersionStr:"",minAppVersionStr:"",status:0,timeout:30}},100)},edit:function(t){var e=this;this.form=Object(m["a"])({},t),Object(b["c"])(Object(m["a"])({},t)).then(function(t){e.appVersion=t,e.hotModal=!0})}},computed:Object(m["a"])({},Object(v["d"])(["gameList","searchTree"]),{showAppVersion:function(){return this.appVersion.reduce(function(t,e){return[].concat(h(t),[Object.keys(e)[0]])},[])},appVersionMap:function(){return this.appVersion.reduce(function(t,e){var r=Object.keys(e)[0];return t[r]=e[r],t},{})},platformList:function(){var t=this.filters.bundleId;return"all"===t?[]:Object.keys(this.searchTree[t])},channelList:function(){var t=this.filters,e=t.bundleId,r=t.platform;return"all"===e||"all"===r?[]:Object.keys(this.searchTree[e][r])},customList:function(){var t=this.filters,e=t.bundleId,r=t.platform,n=t.channel;return"all"===e||"all"===r||"all"===n?[]:Object.keys(this.searchTree[e][r][n])},appList:function(){var t=this.filters,e=t.bundleId,r=t.platform,n=t.channel,i=t.customId;return"all"===e||"all"===r||"all"===n||"all"===i?[]:Object.keys(this.searchTree[e][r][n][i])},disabledCheck:function(){return 1===this.form.status}}),watch:{"filters.bundleId":{handler:function(){this.filters=Object(m["a"])({},this.filters,{platform:"all",channel:"all",customId:"all",appVersionStr:"all"})}},"filters.platform":{handler:function(){this.filters=Object(m["a"])({},this.filters,{channel:"all",customId:"all",appVersionStr:"all"})}},"filters.channel":{handler:function(){this.filters=Object(m["a"])({},this.filters,{customId:"all",appVersionStr:"all"})}},"filters.customId":{handler:function(){this.filters=Object(m["a"])({},this.filters,{appVersionStr:"all"})}},"form.status":{handler:function(t,e){var r=this;1===e&&this.hotModal&&(this.loading=!0,Object(b["a"])(this.form.id).then(function(t){r.loading=!1,t||r.$Message.warning({content:"当前资源发布状态修改后，app版本下没有发布状态的资源，请谨慎操作",duration:3})}))}}}},S=y,k=(r("d1be"),r("2877")),_=Object(k["a"])(S,n,i,!1,null,"4dd83df5",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2df01e69.94920131.js.map